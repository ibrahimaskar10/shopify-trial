{% comment %}
  FAQ Section with dynamic blocks, heading, and expand/collapse functionality.
{% endcomment %}

{{ 'faq.css' | asset_url | stylesheet_tag }}
{{ 'faq.js' | asset_url | script_tag }}

<section class="faq-section">
  <div class="faq-container">
    <h2 class="faq-heading">{{ section.settings.heading }}</h2>
    <div class="faq-list">
      {% for block in section.blocks %}
        <div class="faq-item" id="faq-item-{{ block.id }}">
          <button class="faq-question" aria-expanded="false" aria-controls="faq-answer-{{ block.id }}">
            {{ block.settings.question }}
            <span class="faq-toggle" aria-hidden="true">&#9660;</span>
          </button>
          <div class="faq-answer" id="faq-answer-{{ block.id }}" hidden>
            {{ block.settings.answer }}
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</section>


{% schema %}
{
  "name": "FAQ",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Frequently asked questions"
    }
  ],
  "blocks": [
    {
      "type": "faq_item",
      "name": "FAQ Item",
      "settings": [
        {
          "type": "text",
          "id": "question",
          "label": "Question",
          "default": "Frequently asked question"
        },
        {
          "type": "richtext",
          "id": "answer",
          "label": "Answer",
          "default": "<p>Use this text to answer questions in as much detail as possible for your customers.</p>"
        }
      ]
    }
  ],
  "max_blocks": 10,
  "presets": [
    {
      "name": "FAQ",
      "category": "Text",
      "blocks": [
        {
          "type": "faq_item"
        },
        {
          "type": "faq_item"
        }
      ]
    }
  ]
}
{% endschema %}